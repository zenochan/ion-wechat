/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
/**
 * @param {?=} format
 * @return {?}
 */
function now(format) {
    return new Date().format(format || 'yyyy/MM/dd HH:mm:ss');
}
Date.prototype.ONE_DAY = 86400000;
// 周次
Date.prototype.weekOfYear = (/**
 * @return {?}
 */
function () {
    /** @type {?} */
    var year = this.getFullYear();
    /** @type {?} */
    var d = new Date(this);
    d.setHours(0, 0, 0, 0);
    // 当年的第一天
    /** @type {?} */
    var yearStart = new Date(year, 0, 1);
    // 修正第一天周数的偏移量
    d.setDate(d.getDate() + yearStart.getDay());
    /** @type {?} */
    var deltaDay = (d.getTime() - yearStart.getTime()) / this.ONE_DAY + 1;
    /** @type {?} */
    var weekNo = Math.ceil(deltaDay / 7);
    return [year, weekNo];
});
Date.prototype.format = (/**
 * @param {?} fmt
 * @return {?}
 */
function (fmt) {
    // author: meizz
    /** @type {?} */
    var o = {
        'M+': this.getMonth() + 1,
        // 月份
        'd+': this.getDate(),
        // 日
        'h+': this.getHours() % 12 === 0 ? 12 : this.getHours() % 12,
        // 小时
        'H+': this.getHours(),
        // 小时
        'm+': this.getMinutes(),
        // 分
        's+': this.getSeconds(),
        // 秒
        'q+': Math.floor((this.getMonth() + 3) / 3),
        // 季度
        S: this.getMilliseconds() // 毫秒
    };
    // 年
    if (/(y+)/.test(fmt)) {
        fmt = fmt.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));
    }
    // 星期
    if (/(E+)/.test(fmt)) {
        /** @type {?} */
        var week = ['日', '一', '二', '三', '四', '五', '六'];
        fmt = fmt.replace(RegExp.$1, ((RegExp.$1.length > 1) ? (RegExp.$1.length > 2 ? '星期' : '周') : '')
            + week[this.getDay() + '']);
    }
    for (var k in o) {
        if (new RegExp('(' + k + ')').test(fmt)) {
            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));
        }
    }
    return fmt;
});
Date.prototype.addDay = (/**
 * @param {?} days
 * @return {?}
 */
function (days) {
    this.setTime(this.getTime() + this.ONE_DAY * days);
    return this;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2lvbi13ZWNoYXQvIiwic291cmNlcyI6WyJsaWIvcHJvdG90eXBlL2RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFRQSxTQUFTLEdBQUcsQ0FBQyxNQUFlO0lBRTFCLE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLHFCQUFxQixDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUVELElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQzs7QUFHbEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVOzs7QUFBRzs7UUFDcEIsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUU7O1FBQ3pCLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDeEIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzs7O1FBR2pCLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN0QyxjQUFjO0lBQ2QsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7O1FBRXRDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUM7O1FBQ2pFLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFFdEMsT0FBTyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUEsQ0FBQztBQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTTs7OztBQUFHLFVBQVMsR0FBVzs7O1FBQ3BDLENB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IGludGVyZmFjZSBEYXRlXG57XG4gIHdlZWtPZlllYXI6ICgpID0+IG51bWJlcltdO1xuICBmb3JtYXQ6IChmbXQ6IHN0cmluZykgPT4gc3RyaW5nO1xuICBhZGREYXk6IChkYXk6IG51bWJlcikgPT4gdGhpcztcbiAgT05FX0RBWTogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBub3coZm9ybWF0Pzogc3RyaW5nKVxue1xuICByZXR1cm4gbmV3IERhdGUoKS5mb3JtYXQoZm9ybWF0IHx8ICd5eXl5L01NL2RkIEhIOm1tOnNzJyk7XG59XG5cbkRhdGUucHJvdG90eXBlLk9ORV9EQVkgPSA4NjQwMDAwMDtcblxuLy8g5ZGo5qyhXG5EYXRlLnByb3RvdHlwZS53ZWVrT2ZZZWFyID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHllYXIgPSB0aGlzLmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IGQgPSBuZXcgRGF0ZSh0aGlzKTtcbiAgZC5zZXRIb3VycygwLCAwLCAwLCAwKTtcblxuICAvLyDlvZPlubTnmoTnrKzkuIDlpKlcbiAgY29uc3QgeWVhclN0YXJ0ID0gbmV3IERhdGUoeWVhciwgMCwgMSk7XG4gIC8vIOS/ruato+esrOS4gOWkqeWRqOaVsOeahOWBj+enu+mHj1xuICBkLnNldERhdGUoZC5nZXREYXRlKCkgKyB5ZWFyU3RhcnQuZ2V0RGF5KCkpO1xuXG4gIGNvbnN0IGRlbHRhRGF5ID0gKGQuZ2V0VGltZSgpIC0geWVhclN0YXJ0LmdldFRpbWUoKSkgLyB0aGlzLk9ORV9EQVkgKyAxO1xuICBjb25zdCB3ZWVrTm8gPSBNYXRoLmNlaWwoZGVsdGFEYXkgLyA3KTtcblxuICByZXR1cm4gW3llYXIsIHdlZWtOb107XG59O1xuXG5EYXRlLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbihmbXQ6IHN0cmluZykgeyAvLyBhdXRob3I6IG1laXp6XG4gIGNvbnN0IG8gPSB7XG4gICAgJ00rJzogdGhpcy5nZXRNb250aCgpICsgMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaciOS7vVxuICAgICdkKyc6IHRoaXMuZ2V0RGF0ZSgpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDml6VcbiAgICAnaCsnOiB0aGlzLmdldEhvdXJzKCkgJSAxMiA9PT0gMCA/IDEyIDogdGhpcy5nZXRIb3VycygpICUgMTIsICAgIC8vIOWwj+aXtlxuICAgICdIKyc6IHRoaXMuZ2V0SG91cnMoKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlsI/ml7ZcbiAgICAnbSsnOiB0aGlzLmdldE1pbnV0ZXMoKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YiGXG4gICAgJ3MrJzogdGhpcy5nZXRTZWNvbmRzKCksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOenklxuICAgICdxKyc6IE1hdGguZmxvb3IoKHRoaXMuZ2V0TW9udGgoKSArIDMpIC8gMyksICAgICAgICAgICAgICAgICAgICAvLyDlraPluqZcbiAgICBTOiB0aGlzLmdldE1pbGxpc2Vjb25kcygpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOavq+enklxuICB9O1xuXG4gIC8vIOW5tFxuICBpZiAoLyh5KykvLnRlc3QoZm10KSkge1xuICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKHRoaXMuZ2V0RnVsbFllYXIoKSArICcnKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcbiAgfVxuICAvLyDmmJ/mnJ9cbiAgaWYgKC8oRSspLy50ZXN0KGZtdCkpIHtcbiAgICBjb25zdCB3ZWVrID0gWyfml6UnLCAn5LiAJywgJ+S6jCcsICfkuIknLCAn5ZubJywgJ+S6lCcsICflha0nXTtcbiAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsICgoUmVnRXhwLiQxLmxlbmd0aCA+IDEpID8gKFJlZ0V4cC4kMS5sZW5ndGggPiAyID8gJ+aYn+acnycgOiAn5ZGoJykgOiAnJylcbiAgICAgICAgKyB3ZWVrW3RoaXMuZ2V0RGF5KCkgKyAnJ10pO1xuICB9XG5cbiAgZm9yIChjb25zdCBrIGluIG8pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnKCcgKyBrICsgJyknKS50ZXN0KGZtdCkpIHtcbiAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT09IDEpID8gKG9ba10pIDogKCgnMDAnICsgb1trXSkuc3Vic3RyKCgnJyArIG9ba10pLmxlbmd0aCkpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZtdDtcbn07XG5cbkRhdGUucHJvdG90eXBlLmFkZERheSA9IGZ1bmN0aW9uKGRheXM6IG51bWJlcikge1xuICB0aGlzLnNldFRpbWUodGhpcy5nZXRUaW1lKCkgKyB0aGlzLk9ORV9EQVkgKiBkYXlzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuIl19