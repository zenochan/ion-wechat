{"version":3,"file":"smart-img.js","sourceRoot":"","sources":["../../../../src/components/smart-img/smart-img.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,SAAS,EAAE,KAAK,EAAC,MAAM,eAAe,CAAC;AAC/C,OAAO,EAAC,MAAM,EAAC,MAAM,wBAAwB,CAAC;;IAkE5C;6BAdyB,KAAK;;;;;;;oBAYZ,CAAC;KAKlB;IAED,mCAAO,GAAP,UAAQ,MAAM;QAEZ,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;YAChC,MAAM,CAAC,eAAe,EAAE,CAAC;SAC1B;KACF;;gBA1EF,SAAS,SAAC;oBACT,QAAQ,EAAE,WAAW;oBACrB,MAAM,EAAE,CAAC,yhBA6BR,CAAC;oBACF,QAAQ,EAAE,wTAYT;iBACF;;;;;kCAGE,KAAK;wBAGL,KAAK;yBASL,KAAK;;4BAhER;;SAkDa,iBAAiB","sourcesContent":["import {Component, Input} from '@angular/core';\nimport {Wechat} from \"../../providers/wechat\";\n\n\n@Component({\n  selector: 'smart-img',\n  styles: [`\n    smart-img {\n      display: block;\n      width: 200px;\n      height: 200px;\n      /* 圆角生效*/\n      overflow: hidden;\n    }\n\n    .img-con {\n      height: 100%;\n      width: 100%;\n      overflow: hidden;\n      background-position: center center;\n      background-repeat: no-repeat;\n      background-size: cover;\n    }\n\n    .scale-fill {\n      background-size: 100% 100%;\n    }\n\n    .aspect-fit {\n      background-size: contain;\n    }\n\n    .todo {\n      border: 2px solid gray;\n    }\n  `],\n  template: `\n    <div class=\"img-con\"\n         (click)=\"preview($event)\"\n         [style.backgroundImage]=\"'url('+(src)+')'\"\n         [ngClass]=\"{\n           'scale-fill': mode==1,\n           'aspect-fit': mode==2,\n           'todo': !src\n         }\"\n    >\n      <ng-content></ng-content>\n    </div>\n  `,\n})\nexport class SmartImgComponent\n{\n  @Input()\n  enablePreview: boolean = false;\n\n  @Input()\n  src: string;\n\n  /**\n   *  0 AspectFill 拉伸\n   *  1 ScaleToFill 完整显示在中间\n   *  2 AspectFit 裁剪中间\n   * @type {0|1|2}\n   */\n  @Input()\n  mode: 0 | 1 | 2 = 0;\n\n  constructor()\n  {\n\n  }\n\n  preview($event)\n  {\n    if (this.enablePreview) {\n      Wechat.previewImage([this.src]);\n      $event.stopPropagation();\n    }\n  }\n}\n"]}