{"version":3,"file":"ion-wechat.module.js","sourceRoot":"","sources":["../../src/ion-wechat.module.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,MAAM,EAAE,cAAc,EAAuB,QAAQ,EAAC,MAAM,eAAe,CAAC;AACpF,OAAO,EAAC,WAAW,EAAC,MAAM,0BAA0B,CAAC;AACrD,OAAO,EAAC,WAAW,EAAC,MAAM,0BAA0B,CAAC;AACrD,OAAO,EAAC,MAAM,EAAE,WAAW,EAAC,MAAM,eAAe,CAAC;AAClD,OAAO,EAAC,gBAAgB,EAAC,MAAM,sBAAsB,CAAC;AACtD,OAAO,EAAC,wBAAwB,EAAC,MAAM,8BAA8B,CAAC;AACtE,OAAO,EAAC,KAAK,EAAC,MAAM,eAAe,CAAC;AACpC,OAAO,KAAK,QAAQ,MAAM,UAAU,CAAC;AACrC,OAAO,EAAC,MAAM,EAAC,MAAM,oBAAoB,CAAC;AAE1C,MAAM,CAAC,IAAI,EAAe,CAAC;AAC3B,MAAM,CAAC,IAAI,IAAiB,CAAC;AAC7B,MAAM,CAAC,IAAI,QAAgB,CAAC;AAC5B,MAAM,CAAC,IAAM,MAAM,GAAG,IAAI,cAAc,CAAC,iBAAiB,CAAC,CAAC;;IAa1D,yBAAY,EAAe,EAAE,IAAiB,EAAE,MAAc,EAAkB;QAE9E,eAAe,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QACtC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC;QACpC,WAAW,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,IAAI,MAAM,CAAC;QAEjD,EAAE,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAAC,IAAI,QAAQ,EAAE,CAAC;SAAE;QAEvD,EAAE,GAAG,EAAE,CAAC;QACR,IAAI,GAAG,IAAI,CAAC;QACZ,QAAQ,GAAG,MAAM,CAAC;KACnB;IAED;;;;OAIG;;;;;;IACI,uBAAO;;;;;IAAd,UAAe,OAAgB;QAE7B,MAAM,CAAC;YACL,QAAQ,EAAE,eAAe;YACzB,SAAS,EAAE;gBACT,EAAC,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAC;aACrC;SACF,CAAA;KACF;4BA5B8B,KAAK;;gBATrC,QAAQ,SAAC;oBACR,OAAO,EAAE;wBACP,WAAW;wBACX,gBAAgB;wBAChB,wBAAwB;qBACzB;iBACF;;;;gBAnBO,WAAW;gBADX,WAAW;gBAEX,MAAM;gBAoDD,OAAO,uBA7B+C,MAAM,SAAC,MAAM;;0BA1BhF;;SAsBa,eAAe;AAiC5B,IAAA;;;kBAvDA;IA+DC,CAAA;AARD,mBAQC","sourcesContent":["import {Inject, InjectionToken, ModuleWithProviders, NgModule} from '@angular/core';\nimport {DataService} from \"./providers/data.service\";\nimport {WeuiService} from \"./providers/weui.service\";\nimport {Events, IonicModule} from \"ionic-angular\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {IonWechatProvidersModule} from \"./providers/providers.module\";\nimport {Photo} from \"./pipes/photo\";\nimport * as VConsole from \"vconsole\";\nimport {Wechat} from \"./providers/wechat\";\n\nexport let UI: WeuiService;\nexport let Data: DataService;\nexport let IonEvent: Events;\nexport const CONFIG = new InjectionToken(\"IonWechatConfig\");\n\n@NgModule({\n  imports: [\n    IonicModule,\n    HttpClientModule,\n    IonWechatProvidersModule\n  ]\n})\nexport class IonWechatModule\n{\n  public static DEBUG: boolean = false;\n\n  constructor(ui: WeuiService, data: DataService, events: Events, @Inject(CONFIG) options: Options)\n  {\n    IonWechatModule.DEBUG = options.debug;\n    Photo.BASE_URL = options.imgBaseUrl;\n    DataService.KEY_USER = options.userKey || \"user\";\n\n    if (Wechat.getUrlParam(\"vConsole\")) { new VConsole(); }\n\n    UI = ui;\n    Data = data;\n    IonEvent = events;\n  }\n\n  /**\n   * @see [fuction calls are not supported in decorators](https://github.com/angular/angular-cli/issues/9358)\n   * @param {Options} options\n   * @returns {ModuleWithProviders}\n   */\n  static forRoot(options: Options): ModuleWithProviders\n  {\n    return {\n      ngModule: IonWechatModule,\n      providers: [\n        {provide: CONFIG, useValue: options},\n      ]\n    }\n  }\n}\n\nexport class Options\n{\n  debug: boolean;\n  /**\n   * 存放用户的 key\n   */\n  userKey: string;\n  imgBaseUrl: string;\n}\n"]}