{"version":3,"file":"preview.js","sourceRoot":"","sources":["../../../src/pipes/preview.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,IAAI,EAAgB,MAAM,eAAe,CAAC;AAClD,OAAO,EAAC,UAAU,EAAC,MAAM,iBAAiB,CAAC;;;;;;;;;;IAWzC,+BAAS,GAAT,UAAU,KAAU;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAE3B,MAAM,CAAC,IAAI,UAAU,CAAC,UAAA,UAAU;YAC9B,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAC9B,MAAM,CAAC,MAAM,GAAG,UAAA,KAAK;gBACnB,IAAI,MAAM,GAAS,KAAK,CAAC,MAAO,CAAC,MAAM,CAAC;gBACxC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACxB,UAAU,CAAC,QAAQ,EAAE,CAAC;aACvB,CAAC;YACF,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;SAC7B,CAAC,CAAC;KACJ;;gBAdF,IAAI,SAAC,EAAC,IAAI,EAAE,SAAS,EAAC;;sBATvB;;SAUa,WAAW","sourcesContent":["import {Pipe, PipeTransform} from \"@angular/core\";\nimport {Observable} from \"rxjs/Observable\";\n\n/**\n * 选择上传的图片，图片文件预览\n *\n * <p>usage\n * <pre>[src]=\"file | preview | async\"</pre>\n */\n@Pipe({name: 'preview'})\nexport class PreviewPipe implements PipeTransform\n{\n  transform(value: any, ...args)\n  {\n    return new Observable(subscriber => {\n      let reader = new FileReader();\n      reader.onload = event => {\n        let result = (<any>event.target).result;\n        subscriber.next(result);\n        subscriber.complete();\n      };\n      reader.readAsDataURL(value);\n    });\n  }\n}\n"]}