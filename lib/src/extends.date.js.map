{"version":3,"file":"extends.date.js","sourceRoot":"","sources":["../../src/extends.date.ts"],"names":[],"mappings":"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","sourcesContent":["declare interface Date\n{\n  weekOfYear: Function;\n  format: Function;\n  addDay: Function;\n  ONE_DAY: number;\n}\n\nfunction now(format?: string)\n{\n  return new Date().format(format || \"yyyy/MM/dd HH:mm:ss\")\n}\n\nDate.prototype.ONE_DAY = 86400000;\n\n// 周次\nDate.prototype.weekOfYear = function () {\n  let year = this.getFullYear();\n  let d = new Date(this);\n  d.setHours(0, 0, 0, 0);\n\n  // 当年的第一天\n  let yearStart = new Date(year, 0, 1);\n  // 修正第一天周数的偏移量\n  d.setDate(d.getDate() + yearStart.getDay());\n\n  let deltaDay = (d.getTime() - yearStart.getTime()) / this.ONE_DAY + 1;\n  let weekNo = Math.ceil(deltaDay / 7);\n\n  return [year, weekNo];\n};\n\nDate.prototype.format = function (fmt:string) { //author: meizz\n  let o= {\n    \"M+\": this.getMonth() + 1, //月份\n    \"d+\": this.getDate(), //日\n    \"h+\": this.getHours() % 12 == 0 ? 12 : this.getHours() % 12, //小时\n    \"H+\": this.getHours(), //小时\n    \"m+\": this.getMinutes(), //分\n    \"s+\": this.getSeconds(), //秒\n    \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n    \"S\": this.getMilliseconds() //毫秒\n  };\n  //年\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n  //星期\n  if (/(E+)/.test(fmt)) {\n    let week = {\n      \"0\": \"\\u65e5\",\n      \"1\": \"\\u4e00\",\n      \"2\": \"\\u4e8c\",\n      \"3\": \"\\u4e09\",\n      \"4\": \"\\u56db\",\n      \"5\": \"\\u4e94\",\n      \"6\": \"\\u516d\"\n    };\n    fmt = fmt.replace(RegExp.$1, ((RegExp.$1.length > 1) ? (RegExp.$1.length > 2 ? \"\\u661f\\u671f\" : \"\\u5468\") : \"\") + week[this.getDay() + \"\"]);\n  }\n  for (let k in o)\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n  return fmt;\n};\n\nDate.prototype.addDay = function (days: number) {\n  this.setTime(this.getTime() + this.ONE_DAY * days);\n  return this;\n};\n"]}